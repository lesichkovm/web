var WebJS=(()=>{var e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=e((e,t)=>{function n(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";t=new RegExp("["+t+"]+$","g");return(e+"").replace(t,"")}function r(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";t=new RegExp("^["+t+"]+","g");return(e+"").replace(t,"")}function o(){return"undefined"==typeof APP_ID?JSON.stringify(window.location.hostname):APP_ID}void 0!==t&&t.exports&&(t.exports={rtrim:n,ltrim:r,getUniqueId:o}),"undefined"!=typeof window&&(window.WebJS=window.WebJS||{},window.WebJS.utils={rtrim:n,ltrim:r,getUniqueId:o})}),v=e((e,t)=>{void 0!==t&&t.exports&&(t.exports=function(){let o={},r=-1;return{publish(n,r){return!!o[n]&&(setTimeout(()=>{let e=o[n],t=e?e.length:0;for(;t--;)e[t].func(n,r)},0),!0)},subscribe(e,t){o[e]||(o[e]=[]);var n=(++r).toString();return o[e].push({token:n,func:t}),n},unsubscribe(n){for(var r in o)if(o[r])for(let e=0,t=o[r].length;e<t;e++)if(o[r][e].token===n)return o[r].splice(e,1),n;return!1}}})}),y=e((e,t)=>{function n(){return"undefined"==typeof WEBSITE_URL?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):WEBSITE_URL}function r(){return"undefined"==typeof API_URL?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/api":API_URL}function o(){return window.location.href}function i(){var t=window.location.search.substring(1).split("&"),n={};if(t.length)for(let e=0;e<t.length;e++){var r=t[e].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n}function u(e){var t=i();return void 0===t[e]?null:t[e]}void 0!==t&&t.exports&&(t.exports={getRootUrl:n,getApiUrl:r,getUrl:o,getUrlParams:i,getUrlParam:u}),"undefined"!=typeof window&&(window.WebJS=window.WebJS||{},window.WebJS.URL={getRootUrl:n,getApiUrl:r,getUrl:o,getUrlParams:i,getUrlParam:u})}),U=e((e,t)=>{function n(e){return e.get("AuthUser")}function r(e,t){return t.set("AuthUser",e)}function o(e){return e.get("AuthToken")}function i(e,t){return t.set("AuthToken",e)}function u(e){e=e.get("CurrentLanguage");return null===e?"en":e}function a(e,t){return t.set("CurrentLanguage",e)}void 0!==t&&t.exports&&(t.exports={getAuthUser:n,setAuthUser:r,getAuthToken:o,setAuthToken:i,getLanguage:u,setLanguage:a}),"undefined"!=typeof window&&(window.WebJS=window.WebJS||{},window.WebJS.Auth={getAuthUser:e=>n(e),setAuthUser:(e,t)=>r(e,t),getAuthToken:e=>o(e),setAuthToken:(e,t)=>i(e,t),getLanguage:e=>u(e),setLanguage:(e,t)=>a(e,t)})}),A=e((e,t)=>{var{rtrim:u,ltrim:a}=b();function n(i){return{navigateTo:function(e,t,n={}){var r,o;return e.match(/^https?:\/\//)||(e=u(i.getRootUrl(),"/")+"/"+a(e,"/")),t&&(r=Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&"))&&(o=e.includes("?")?"&":"?",e=e+o+r),n&&"_blank"===n.target?((o=document.createElement("a")).href=e,o.target="_blank",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)):window.location.href=e,!1}}}void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.WebJS=window.WebJS||{},window.WebJS.createNavigation=n)}),S=e((e,r)=>{var t;t=function(){function u(e){return JSON.stringify(e)}function g(e){return JSON.parse(e)}function t(e){let t="";var n,r,o,i,u=t=null==e||""===e?"undefined"==typeof window||void 0===window.location?(console.warn("window or window.location is not available. Cannot determine root URL dynamically."),"unknown"):window.location.origin&&"null"!==window.location.origin?window.location.origin:(n=window.location.protocol,r=window.location.hostname,o=window.location.port,u="string"==typeof n&&0<n.length,i="string"==typeof r&&0<r.length,u&&"file:"===n?(console.warn("Detected 'file://' protocol. No standard web origin is available, returning 'unknown'."),"unknown"):u&&i?n+"//"+r+(o?":"+o:""):(console.warn("Could not determine root URL from window.location properties."),"unknown")):"@"+e;if("function"==typeof btoa)return btoa(u);if("undefined"!=typeof Buffer)return Buffer.from(u).toString("base64");throw new Error("Base64 encoding not supported in this environment")}function o(e){return e+"&&expires"}function c(e){if((e=>null!==(e=localStorage.getItem(o(e)))&&(e=parseInt(e,10),Math.floor(Date.now()/1e3)>=e))(e))return n(e),null;e=localStorage.getItem(e);if(null===e)return null;try{return g(e)}catch(e){return console.error("Error parsing stored value:",e),null}}function n(e){localStorage.removeItem(e),localStorage.removeItem(o(e))}class e{constructor(e){let d=t(e);this.set=function(e,t,n){var r=e+d,t=((e,t)=>{if(null==e)return"__NULL__";var n=u(e),r=t.length,o=[];for(let e=0;e<n.length;e++){var i=e%r,i=n.charCodeAt(e)+t.charCodeAt(i);o.push(i)}return u(o)})(t,e);e=r,r=t,t=n,localStorage.setItem(e,u(r)),"number"==typeof t&&(r=o(e),e=Math.floor(Date.now()/1e3)+t,localStorage.setItem(r,e.toString()))},this.get=function(e){var t=c(e+d);if(null===t||"__NULL__"===t)return null;try{var n=t,r=e;if("__NULL__"===n)return null;try{var o=g(n),i=r.length,u=[];for(let e=0;e<o.length;e++){var a=e%i,l=o[e]-r.charCodeAt(a);u.push(l)}let t="";for(let e=0;e<u.length;e++){var s=String.fromCharCode(u[e]);t+=s}return g(t)}catch(e){return console.error("Error decrypting value:",e),null}}catch(e){return console.error("Error decrypting value:",e),null}},this.remove=function(e){n(e+d)},this.empty=function(){var t=d,n=Object.keys(localStorage);for(let e=0;e<n.length;e++){var r=n[e];-1<r.indexOf(t)&&localStorage.removeItem(r)}}}}return void 0!==r&&void 0!==r.exports?r.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof window&&(window.Registry=e),e},"object"==typeof(e=e)&&void 0!==r?r.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Registry=t()}),x=e((e,t)=>{function n(){document.querySelectorAll("[data-widget-url]").forEach(r=>{let t=r.dataset.widgetUrl;fetch(t).then(function(e){return e.text()}).then(e=>{r.innerHTML=e;var t=r.getElementsByTagName("script");for(let e=0;e<t.length;e++)try{var n=document.createElement("script");n.text=t[e].text,document.head.appendChild(n).parentNode.removeChild(n)}catch(e){console.error("Error executing widget script:",e)}}).catch(e=>{console.error("Error loading widget:",t,e)})})}"undefined"!=typeof Initialize&&(Initialize.prototype.loadWidgets=n),void 0!==t&&t.exports&&(t.exports={loadWidgets:n}),"undefined"!=typeof window&&window.$$&&(window.$$.loadWidgets=n)});return e((e,t)=>{var n=b().getUniqueId,r=v(),{getUrl:o,getUrlParams:i,getUrlParam:u,getRootUrl:a,getApiUrl:l}=y(),{getAuthUser:s,setAuthUser:d,getAuthToken:g,setAuthToken:c,getLanguage:f,setLanguage:w}=U(),p=A(),h=S(),m=x().loadWidgets;$$=new class{constructor(){this.debug=!0,this.registry=new h(n()),this.navigation=p({getRootUrl:a}),this.pubsub=r(),this.loadWidgets=m}get(e){return this.registry.get(e)}set(e,t){return this.registry.set(e,t)}getApiUrl(){return l()}getUrl(){return o()}getUrlParams(){return i()}getUrlParam(e){return u(e)}getAuthUser(){return s(this.registry)}setAuthUser(e){return d(e,this.registry)}getAuthToken(){return g(this.registry)}setAuthToken(e){return c(e,this.registry)}getLanguage(){return f(this.registry)}setLanguage(e){return w(e,this.registry)}to(e,t,n){return this.navigation.navigateTo(e,t,n)}publish(e,t){return this.pubsub.publish(e,t)}subscribe(e,t){return this.pubsub.subscribe(e,t)}unsubscribe(e,t){return this.pubsub.unsubscribe(e,t)}},void 0!==t&&t.exports&&(t.exports=$$),void 0!==e&&(e.default=$$),"undefined"!=typeof window&&(window.WebJS=$$)})()})();