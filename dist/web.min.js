var WebJS=(()=>{e=function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')};var e,t,r="undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e;return e=(e,t)=>{function o(){this.getUniqueId=function(){return"undefined"==typeof APP_ID?JSON.stringify(window.location.hostname):APP_ID},this.getRootUrl=function(){return"undefined"==typeof WEBSITE_URL?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+location.port:""):WEBSITE_URL},this.getApiUrl=function(){return"undefined"==typeof API_URL?window.location.protocol+"//"+window.location.hostname+(location.port?":"+window.location.port:"")+"/api":API_URL}}if(void 0!==r)try{var n=r("@lesichkovm/registryjs");Registry=n}catch(e){console.error("Failed to load @lesichkovm/registryjs:",e)}else if("undefined"!=typeof window&&window.Registry)Registry=window.Registry;else{if("undefined"==typeof globalThis||!globalThis.Registry)throw new Error("RegistryJS is required. Please include it before WebJS.");Registry=globalThis.Registry}o=new o,Registry=new Registry(o.getUniqueId()),$$=new function(){this.debug=!0,this.get=function(e){return Registry.get(e)},this.set=function(e,t){return Registry.set(e,t)},this.getApiUrl=function(){return o.getApiUrl()},this.getUrl=function(){return window.location.href},this.getUrlParams=function(){var e=window.location.search.substring(1).split("&"),t={};if(e.length)for(var n=0;n<e.length;n++){var r=e[n].split("=");t[unescape(r[0])]=unescape(r[1])}return t},this.getUrlParam=function(e){var t=this.getUrlParams();return void 0===t[e]?null:t[e]},this.getAuthUser=function(){return null===Registry.get("AuthUser")?null:Registry.get("AuthUser")},this.setAuthUser=function(e){return Registry.set("AuthUser",e)},this.getAuthToken=function(){return Registry.get("AuthToken")},this.setAuthToken=function(e){return Registry.set("AuthToken",e)},this.getLanguage=function(){var e=Registry.get("CurrentLanguage");return e=null===e?"en":e},this.setLanguage=function(e){return Registry.set("CurrentLanguage",e)},this.to=function(e,t,n){e.match("^http://")||e.match("^https://")||(e=((e,t)=>(t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ",t=new RegExp("["+t+"]+$","g"),(e+"").replace(t,"")))(o.getRootUrl(),["/"])+"/"+((e,t)=>(t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ",t=new RegExp("^["+t+"]+","g"),(e+"").replace(t,"")))(e,["/"]));var r=void 0===t?"":Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&");return 0<r.length&&(e=e+(e.indexOf("?")<0?"?":"&")+r),"_blank"===(n=void 0===n?{}:n).target?((r=document.createElement("a")).href=e,r.target="_blank",r.style.display="none",document.body.appendChild(r),document.body.lastElementChild.click()):window.location.href=e,!1};var i={},r=-1;this.publish=function(n,r){return!!i[n]&&(setTimeout(function(){for(var e=i[n],t=e?e.length:0;t--;)e[t].func(n,r)},0),!0)},this.subscribe=function(e,t){i[e]||(i[e]=[]);var n=(++r).toString();return i[e].push({token:n,func:t}),n},this.unsubscribe=function(e){for(var t in i)if(i[t])for(var n=0,r=i[t].length;n<r;n++)if(i[t][n].token===e)return i[t].splice(n,1),e;return!1}},void 0!==t&&t.exports&&(t.exports=$$),void 0!==e&&(e.default=$$),"undefined"!=typeof window&&(window.WebJS=$$)},t||e((t={exports:{}}).exports,t),t.exports})();